<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   width="1000"
   height="500"
   viewBox="0 0 1000 500"
   version="1.1"
   id="svg21808"
   inkscape:version="1.3 (0e150ed6c4, 2023-07-21)"
   sodipodi:docname="lstmCircuit.svg"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:xlink="http://www.w3.org/1999/xlink"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <style
     id="style1451">&#10;.pin { &#10;    fill:#000000;&#10;    stroke:none;&#10;}&#10;</style>
  <sodipodi:namedview
     id="namedview21810"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:document-units="px"
     showgrid="false"
     inkscape:zoom="0.99999999"
     inkscape:cx="321.5"
     inkscape:cy="213"
     inkscape:window-width="1920"
     inkscape:window-height="1010"
     inkscape:window-x="0"
     inkscape:window-y="33"
     inkscape:window-maximized="0"
     inkscape:current-layer="svg21808" />
  <defs
     id="defs21805">
    <marker
       style="overflow:visible"
       id="ArrowWide"
       refX="0"
       refY="0"
       orient="auto-start-reverse"
       inkscape:stockid="Wide arrow"
       markerWidth="1"
       markerHeight="1"
       viewBox="0 0 1 1"
       inkscape:isstock="true"
       inkscape:collect="always"
       preserveAspectRatio="xMidYMid">
      <path
         style="fill:none;stroke:context-stroke;stroke-width:1;stroke-linecap:butt"
         d="M 3,-3 0,0 3,3"
         transform="rotate(180,0.125,0)"
         sodipodi:nodetypes="ccc"
         id="path18" />
    </marker>
    <symbol
       id="xbar"
       width="116"
       height="32">
      <title
         id="title2">crossbar</title>
      <line
         x1="8"
         y1="7"
         x2="127"
         y2="7"
         stroke="#d579a0"
         id="line1"
         stroke-dasharray="2, 2" />
      <line
         x1="121.5"
         y1="1"
         x2="121.5"
         y2="56"
         stroke="#2db6e2"
         id="line5"
         stroke-dasharray="2, 2" />
      <line
         x1="57.5"
         y1="1"
         x2="57.5"
         y2="56"
         stroke="#2db6e2"
         id="line4"
         stroke-dasharray="2, 2" />
      <g
         id="g1"
         color="currentColor">
        <use
           xlink:href="#memristor"
           x="0"
           y="0"
           id="1_1"
           transform="rotate(45,9.7071045,23.192389)" />
        <use
           xlink:href="#memristor"
           x="0"
           y="0"
           id="1_2"
           transform="rotate(45,41.707103,100.44721)" />
        <rect
           id="rect1"
           width="120"
           height="56"
           x="7.5"
           y="0.5"
           stroke="currentColor"
           fill="none" />
        <line
           x1="1"
           y1="28.5"
           x2="8"
           y2="28.5"
           stroke="currentColor"
           id="line2" />
        <line
           x1="64"
           y1="56"
           x2="64"
           y2="63"
           stroke="currentColor"
           id="line3" />
        <circle
           fill="#000000"
           stroke="none"
           id="circle11"
           cx="1"
           cy="28.5"
           r="1" />
        <circle
           fill="#000000"
           stroke="none"
           id="circle1"
           cx="64"
           cy="63"
           r="1" />
      </g>
      <text
         stroke="none"
         fill="#000000"
         font-size="7px"
         x="65"
         y="62.5"
         id="textV1"
         text-anchor="begin">$&lt;n_o&gt;$</text>
      <text
         stroke="none"
         fill="#000000"
         font-size="7px"
         x="-29"
         y="5.5"
         id="text5"
         text-anchor="end"
         transform="rotate(-90)">$&lt;n_i&gt;$</text>
      <text
         stroke="none"
         fill="#000000"
         font-size="7px"
         x="72"
         y="32"
         id="text6"
         text-anchor="middle">$n_s$</text>
    </symbol>
    <symbol
       id="memristor"
       width="64"
       height="16"
       refY="50%">
      <title
         id="title36">memristor</title>
      <g
         id="g38">
        <path
           d="m 14,8 h 6.5 v 3.5 h 6 v -7 h 6 v 7 h 6 V 8 H 45"
           id="center"
           stroke="currentColor"
           fill="none"
           stroke-width="1" />
        <rect
           stroke="currentColor"
           stroke-width="1"
           fill="currentColor"
           id="inter"
           width="5"
           x="45"
           y="0.5"
           height="15" />
        <rect
           stroke="currentColor"
           stroke-width="1"
           fill="none"
           id="outer"
           width="36"
           height="15"
           x="14"
           y="0.5" />
        <line
           x1="2"
           x2="14"
           y1="8"
           y2="8"
           stroke="currentColor"
           stroke-width="1px"
           id="line36" />
        <line
           x1="50"
           x2="62"
           y1="8"
           y2="8"
           stroke="currentColor"
           stroke-width="1"
           id="line37" />
        <circle
           id="circle37"
           class="pin"
           cx="2"
           cy="8"
           r="1" />
        <circle
           class="pin"
           id="circle38"
           cx="62"
           cy="8"
           r="1" />
      </g>
    </symbol>
    <symbol
       id="sigmoid">
      <title
         id="title2-3">sigmoid</title>
      <g
         id="g2">
        <line
           x1="2"
           x2="10"
           y1="12"
           y2="12"
           stroke="currentColor"
           id="neg" />
        <line
           x1="54"
           x2="62"
           y1="12"
           y2="12"
           stroke="currentColor"
           id="out" />
        <circle
           id="negPin"
           class="pin"
           cx="2"
           cy="12"
           r="1" />
        <circle
           id="outPin"
           class="pin"
           cx="62"
           cy="12"
           r="1" />
        <rect
           id="outline"
           width="64"
           height="24"
           x="0"
           y="0"
           fill="none"
           stroke="none" />
        <rect
           id="main"
           width="44"
           height="23"
           x="10"
           y="0.5"
           fill="none"
           stroke="currentColor" />
        <text
           x="32"
           y="21"
           id="sigmoidText"
           stroke="none"
           fill="#000000"
           font-size="6px"
           text-anchor="middle">sigmoid</text>
        <path
           d="m 16,13 c 8,0 12,0 16,-4 4,-4 8,-4 16,-4"
           id="path2"
           fill="none"
           stroke="currentColor" />
        <rect
           id="rect2"
           width="32"
           height="10"
           x="16"
           y="4"
           fill="none"
           stroke="#000000" />
      </g>
    </symbol>
    <symbol
       id="tanh">
      <title
         id="title3">tanh</title>
      <g
         id="g7">
        <line
           x1="2"
           x2="10"
           y1="12"
           y2="12"
           stroke="currentColor"
           id="line3-7" />
        <line
           x1="54"
           x2="62"
           y1="12"
           y2="12"
           stroke="currentColor"
           id="line4-5" />
        <circle
           id="circle4"
           class="pin"
           cx="2"
           cy="12"
           r="1" />
        <circle
           id="circle5"
           class="pin"
           cx="62"
           cy="12"
           r="1" />
        <rect
           id="rect5"
           width="64"
           height="24"
           x="0"
           y="0"
           fill="none"
           stroke="none" />
        <rect
           id="rect6"
           width="44"
           height="23"
           x="10"
           y="0.5"
           fill="none"
           stroke="currentColor" />
        <text
           x="32"
           y="21"
           id="tanhText"
           stroke="none"
           fill="#000000"
           font-size="6px"
           text-anchor="middle">tanh</text>
        <path
           d="m 16,13 c 8,0 12,0 16,-4 4,-4 8,-4 16,-4"
           id="path6"
           fill="none"
           stroke="currentColor" />
        <rect
           id="rect7"
           width="32"
           height="10"
           x="16"
           y="4"
           fill="none"
           stroke="#000000" />
      </g>
    </symbol>
    <symbol
       id="voltMult">
      <title
         id="title2-36">voltage multiplier</title>
      <g
         id="g2-7">
        <line
           x1="1"
           x2="8"
           y1="22"
           y2="22"
           stroke="currentColor"
           id="pos" />
        <line
           x1="1"
           x2="8"
           y1="10"
           y2="10"
           stroke="currentColor"
           id="neg-5" />
        <line
           x1="56"
           x2="63"
           y1="16"
           y2="16"
           stroke="currentColor"
           id="out-3" />
        <circle
           id="plusPin"
           class="pin"
           cx="1"
           cy="22"
           r="1" />
        <circle
           id="negPin-5"
           class="pin"
           cx="1"
           cy="10"
           r="1" />
        <circle
           id="outPin-6"
           class="pin"
           cx="63"
           cy="16"
           r="1" />
        <rect
           id="rect2689"
           width="48"
           height="31"
           x="8"
           y="0.5"
           fill="none"
           stroke="currentColor" />
        <path
           d="M 24,8 40,24 M 24,24 40,8"
           id="path1"
           fill="none"
           stroke="currentColor" />
      </g>
    </symbol>
    <symbol
       id="resistor"
       width="64"
       height="16">
      <title
         id="title31">resistor</title>
      <g
         id="g32">
        <path
           d="m 2,8 h 12 l 3,-6 6,12 6,-12 6,12 6,-12 6,12 3,-6 h 12"
           id="res"
           fill="none"
           stroke="currentColor" />
        <circle
           id="posPin"
           fill="#000000"
           class="pin"
           cx="2"
           cy="8"
           r="1" />
        <circle
           class="pin"
           fill="#000000"
           id="circle31"
           cx="62"
           cy="8"
           r="1" />
        <rect
           id="rect31"
           width="64"
           height="16"
           x="0"
           y="0"
           fill="none"
           stroke="none" />
      </g>
    </symbol>
    <symbol
       id="opamp">
      <title
         id="title34">opAmp</title>
      <g
         id="g39">
        <line
           x1="2"
           x2="12"
           y1="32"
           y2="32"
           stroke="currentColor"
           id="line35" />
        <line
           x1="2"
           x2="12"
           y1="16"
           y2="16"
           stroke="currentColor"
           id="line36-3" />
        <path
           d="M 12,2 V 46 L 52,24 Z"
           fill="none"
           stroke="currentColor"
           id="path36" />
        <line
           x1="52"
           x2="62"
           y1="24"
           y2="24"
           stroke="currentColor"
           id="line37-6" />
        <g
           id="plus">
          <line
             x1="14"
             x2="18"
             y1="32"
             y2="32"
             stroke="#000000"
             id="line105596" />
          <line
             x1="16"
             x2="16"
             y1="30"
             y2="34"
             stroke="#000000"
             id="line105598" />
        </g>
        <line
           x1="14"
           x2="18"
           y1="16"
           y2="16"
           stroke="#000000"
           id="minus" />
        <circle
           id="circle37-7"
           class="pin"
           cx="2"
           cy="32"
           r="1" />
        <circle
           id="circle38-5"
           class="pin"
           cx="2"
           cy="16"
           r="1" />
        <circle
           id="circle39"
           class="pin"
           cx="62"
           cy="24"
           r="1" />
        <rect
           id="rect39"
           width="64"
           height="48"
           x="0"
           y="0"
           fill="none"
           stroke="none" />
      </g>
    </symbol>
    <symbol
       id="memcell">
      <title
         id="title2-367">memcell</title>
      <g
         id="g2-5">
        <line
           x1="2"
           x2="10"
           y1="16"
           y2="16"
           stroke="currentColor"
           id="neg-3" />
        <line
           x1="54"
           x2="62"
           y1="16"
           y2="16"
           stroke="currentColor"
           id="out-5" />
        <rect
           id="outline-6"
           width="64"
           height="32"
           x="0"
           y="0"
           fill="none"
           stroke="none" />
        <rect
           id="main-2"
           width="44"
           height="24"
           x="10"
           y="4"
           fill="none"
           stroke="currentColor" />
        <g
           id="cap">
          <line
             x1="20"
             x2="30"
             y1="14"
             y2="14"
             stroke="currentColor"
             id="line2-9" />
          <line
             x1="34"
             x2="44"
             y1="14"
             y2="14"
             stroke="currentColor"
             id="line3-1" />
          <line
             x1="34"
             x2="34"
             y1="20"
             y2="8"
             stroke="currentColor"
             id="line4-2" />
          <line
             x1="30"
             x2="30"
             y1="8"
             y2="20"
             stroke="currentColor"
             id="line5-7" />
        </g>
        <text
           x="32"
           y="26"
           id="memText"
           stroke="none"
           fill="#000000"
           font-size="6px"
           text-anchor="middle">Memory</text>
        <line
           x1="32"
           x2="32"
           y1="4"
           y2="1"
           stroke="currentColor"
           id="line1-0" />
        <line
           x1="32"
           x2="32"
           y1="28"
           y2="31"
           stroke="currentColor"
           id="line6" />
        <circle
           id="negPin-9"
           class="pin"
           cx="2"
           cy="16"
           r="1" />
        <circle
           id="enIn"
           class="pin"
           cx="32"
           cy="1"
           r="1" />
        <circle
           id="enOut"
           class="pin"
           cx="32"
           cy="31"
           r="1" />
        <circle
           id="outPin-3"
           class="pin"
           cx="62"
           cy="16"
           r="1" />
      </g>
    </symbol>
  </defs>
  <g
     id="wires"
     color="#808080">
    <path
       d="m 21,38.5 h -8"
       id="path17"
       fill="none"
       stroke="currentColor" />
    <path
       d="m 212.99966,38.5 h -8"
       id="path30"
       fill="none"
       stroke="currentColor" />
    <path
       d="m 404.99966,38.5 h -8"
       id="path31"
       fill="none"
       stroke="currentColor" />
    <path
       d="m 596.99932,38.5 h -8"
       id="path32"
       fill="none"
       stroke="currentColor" />
    <path
       d="M 84,73 v 20 h 15"
       id="path4"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <path
       d="m 276,73 v 20 h 15"
       id="path19"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <path
       d="m 468,73 v 20 h 15"
       id="path20"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <path
       d="m 660,73 v 20 h 15"
       id="path21"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <path
       d="m 160,93 h 64 v 32 13 12 H 368 V 234 h -4"
       id="path8"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <path
       d="m 352,93 h 64 v 32 13 12 H 490"
       id="path10"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <path
       d="m 544,93 v 22 H 490 h -4 v 23 h 4"
       id="path11"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <path
       d="m 736,93 v 20 h -64 V 138 H 650"
       id="path3"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <path
       d="m 553,144 v 18"
       id="path5"
       fill="none"
       stroke="currentColor"
       marker-mid="url(#ArrowWide)" />
    <path
       d="m 587,144 v 18"
       id="path22"
       fill="none"
       stroke="currentColor" />
    <path
       d="m 553,222 h 32 2 m -17,0 v 18 H 642 v -32"
       id="path13"
       fill="none"
       stroke="currentColor" />
    <path
       d="m 642,256 h -16"
       id="path15"
       fill="none"
       stroke="currentColor" />
    <path
       d="m 702,248 v -32 -8"
       id="path14"
       fill="none"
       stroke="currentColor" />
    <path
       d="m 702,248 H 741 V 150 h -4"
       id="path7"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <path
       d="m 676,150 H 650"
       id="path24"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <path
       d="m 702,248 v 48 h -128 V 258 H 543"
       id="path16"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <circle
       id="node0"
       cx="570"
       cy="222"
       r="2"
       fill="currentColor"
       stroke="none" />
    <path
       d="m 482,258 h -59 V 246 h -59"
       id="path9"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <path
       d="m 301,240 h -32"
       id="path23"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <path
       d="m 208,240 h -33"
       id="path12"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <path
       d="m 174,240 v -31"
       id="path25"
       fill="none"
       stroke="currentColor" />
    <path
       d="M 114,208 V 248"
       id="path26"
       fill="none"
       stroke="currentColor" />
    <path
       d="m 114,248 H 83"
       id="path28"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <path
       d="m 114,248 v 64 h 4"
       id="path29"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <path
       d="M 190,256 H 174"
       id="path27"
       fill="none"
       stroke="currentColor" />
  </g>
  <g
     id="components"
     color="#009970">
    <use
       xlink:href="#xbar"
       id="outputG"
       x="20"
       y="10" />
    <use
       xlink:href="#xbar"
       id="inputG"
       x="212"
       y="10" />
    <use
       xlink:href="#xbar"
       id="cellG"
       x="404"
       y="10" />
    <use
       xlink:href="#xbar"
       id="forgetG"
       x="596"
       y="10" />
    <use
       xlink:href="#sigmoid"
       id="sigm0"
       x="98"
       y="81" />
    <use
       xlink:href="#tanh"
       id="tanh0"
       x="482"
       y="81" />
    <use
       xlink:href="#sigmoid"
       id="sigm1"
       x="290"
       y="81" />
    <use
       xlink:href="#sigmoid"
       id="sigm2"
       x="674"
       y="81" />
    <use
       xlink:href="#voltMult"
       id="voltMult0"
       x="490"
       y="128" />
    <use
       xlink:href="#voltMult"
       id="voltMult1"
       x="-650"
       y="128"
       transform="scale(-1,1)" />
    <use
       xlink:href="#resistor"
       id="res0"
       x="-224"
       y="545"
       transform="rotate(-90)" />
    <use
       xlink:href="#resistor"
       id="res1"
       x="-224"
       y="579"
       transform="rotate(-90)" />
    <use
       xlink:href="#opamp"
       id="opAmp0"
       x="640"
       y="224" />
    <use
       xlink:href="#resistor"
       id="res2"
       x="640"
       y="200" />
    <use
       xlink:href="#tanh"
       id="tanh1"
       x="480"
       y="246" />
    <use
       xlink:href="#voltMult"
       id="voltMult2"
       x="-364"
       y="224"
       transform="scale(-1,1)" />
    <use
       xlink:href="#memcell"
       id="memcell0"
       x="674"
       y="134" />
    <use
       xlink:href="#opamp"
       id="opAmp1"
       x="-176"
       y="224"
       transform="scale(-1,1)" />
    <use
       xlink:href="#resistor"
       id="res4"
       x="112"
       y="200" />
    <use
       xlink:href="#resistor"
       id="res3"
       x="206"
       y="232" />
    <use
       xlink:href="#memcell"
       id="memcell1"
       x="20"
       y="232" />
    <use
       xlink:href="#memcell"
       id="memcell2"
       x="117"
       y="296" />
  </g>
  <text
     x="13"
     y="40"
     id="text833"
     text-anchor="end"
     font-size="6px"
     xml:space="default">$(\overrightarrow{x_t),\overrightarrow{h_t),b)$</text>
  <text
     x="205"
     y="40"
     id="text30"
     text-anchor="end"
     font-size="6px"
     xml:space="default">$V_{dd}$</text>
  <text
     x="397"
     y="40"
     id="text32"
     text-anchor="end"
     font-size="6px"
     xml:space="default">$V_{dd}$</text>
  <text
     x="589"
     y="40"
     id="text33"
     text-anchor="end"
     font-size="6px"
     xml:space="default">$V_{dd}$</text>
</svg>
