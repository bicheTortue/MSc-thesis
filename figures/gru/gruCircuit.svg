<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   width="600"
   height="350"
   viewBox="0 0 600 350"
   version="1.1"
   id="svg21808"
   inkscape:version="1.3 (0e150ed6c4, 2023-07-21)"
   sodipodi:docname="gruCircuit.svg"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:xlink="http://www.w3.org/1999/xlink"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <style
     id="style1451">&#10;.pin { &#10;    fill:#000000;&#10;    stroke:none;&#10;}&#10;</style>
  <sodipodi:namedview
     id="namedview21810"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:document-units="px"
     showgrid="false"
     inkscape:zoom="3.7699686"
     inkscape:cx="503.18721"
     inkscape:cy="281.16945"
     inkscape:window-width="1920"
     inkscape:window-height="1080"
     inkscape:window-x="0"
     inkscape:window-y="0"
     inkscape:window-maximized="0"
     inkscape:current-layer="texts"
     inkscape:lockguides="false" />
  <defs
     id="defs21805">
    <marker
       style="overflow:visible"
       id="ArrowWide"
       refX="0"
       refY="0"
       orient="auto-start-reverse"
       inkscape:stockid="Wide arrow"
       markerWidth="1"
       markerHeight="1"
       viewBox="0 0 1 1"
       inkscape:isstock="true"
       inkscape:collect="always"
       preserveAspectRatio="xMidYMid">
      <path
         style="fill:none;stroke:context-stroke;stroke-width:1;stroke-linecap:butt"
         d="M 3,-3 0,0 3,3"
         transform="rotate(180,0.125,0)"
         sodipodi:nodetypes="ccc"
         id="path18" />
    </marker>
    <symbol
       id="memristor"
       width="64"
       height="16"
       refY="50%">
      <title
         id="title36">memristor</title>
      <g
         id="g38">
        <path
           d="m 14,8 h 6.5 v 3.5 h 6 v -7 h 6 v 7 h 6 V 8 H 45"
           id="center"
           stroke="currentColor"
           fill="none"
           stroke-width="1" />
        <rect
           stroke="currentColor"
           stroke-width="1"
           fill="currentColor"
           id="inter"
           width="5"
           x="45"
           y="0.5"
           height="15" />
        <rect
           stroke="currentColor"
           stroke-width="1"
           fill="none"
           id="outer"
           width="36"
           height="15"
           x="14"
           y="0.5" />
        <line
           x1="2"
           x2="14"
           y1="8"
           y2="8"
           stroke="currentColor"
           stroke-width="1px"
           id="line36" />
        <line
           x1="50"
           x2="62"
           y1="8"
           y2="8"
           stroke="currentColor"
           stroke-width="1"
           id="line37" />
        <circle
           id="circle37"
           class="pin"
           cx="2"
           cy="8"
           r="1" />
        <circle
           class="pin"
           id="circle38"
           cx="62"
           cy="8"
           r="1" />
      </g>
    </symbol>
    <symbol
       id="voltMult">
      <title
         id="title2-36">voltage multiplier</title>
      <g
         id="g2-7">
        <line
           x1="1"
           x2="8"
           y1="22"
           y2="22"
           stroke="currentColor"
           id="pos" />
        <line
           x1="1"
           x2="8"
           y1="10"
           y2="10"
           stroke="currentColor"
           id="neg-5" />
        <line
           x1="56"
           x2="63"
           y1="16"
           y2="16"
           stroke="currentColor"
           id="out-3" />
        <circle
           id="plusPin"
           class="pin"
           cx="1"
           cy="22"
           r="1" />
        <circle
           id="negPin-5"
           class="pin"
           cx="1"
           cy="10"
           r="1" />
        <circle
           id="outPin-6"
           class="pin"
           cx="63"
           cy="16"
           r="1" />
        <rect
           id="rect2689"
           width="48"
           height="31"
           x="8"
           y="0.5"
           fill="none"
           stroke="currentColor" />
        <path
           d="M 24,8 40,24 M 24,24 40,8"
           id="path1"
           fill="none"
           stroke="currentColor" />
      </g>
    </symbol>
    <symbol
       id="resistor"
       width="64"
       height="16">
      <title
         id="title31">resistor</title>
      <g
         id="g32">
        <path
           d="m 2,8 h 12 l 3,-6 6,12 6,-12 6,12 6,-12 6,12 3,-6 h 12"
           id="res"
           fill="none"
           stroke="currentColor" />
        <circle
           id="posPin"
           fill="#000000"
           class="pin"
           cx="2"
           cy="8"
           r="1" />
        <circle
           class="pin"
           fill="#000000"
           id="circle31"
           cx="62"
           cy="8"
           r="1" />
        <rect
           id="rect31"
           width="64"
           height="16"
           x="0"
           y="0"
           fill="none"
           stroke="none" />
      </g>
    </symbol>
    <symbol
       id="opamp">
      <title
         id="title34">opAmp</title>
      <g
         id="g39">
        <line
           x1="2"
           x2="12"
           y1="32"
           y2="32"
           stroke="currentColor"
           id="line35" />
        <line
           x1="2"
           x2="12"
           y1="16"
           y2="16"
           stroke="currentColor"
           id="line36-3" />
        <path
           d="M 12,2 V 46 L 52,24 Z"
           fill="none"
           stroke="currentColor"
           id="path36" />
        <line
           x1="52"
           x2="62"
           y1="24"
           y2="24"
           stroke="currentColor"
           id="line37-6" />
        <g
           id="plus">
          <line
             x1="14"
             x2="18"
             y1="32"
             y2="32"
             stroke="#000000"
             id="line105596" />
          <line
             x1="16"
             x2="16"
             y1="30"
             y2="34"
             stroke="#000000"
             id="line105598" />
        </g>
        <line
           x1="14"
           x2="18"
           y1="16"
           y2="16"
           stroke="#000000"
           id="minus" />
        <circle
           id="circle37-7"
           class="pin"
           cx="2"
           cy="32"
           r="1" />
        <circle
           id="circle38-5"
           class="pin"
           cx="2"
           cy="16"
           r="1" />
        <circle
           id="circle39"
           class="pin"
           cx="62"
           cy="24"
           r="1" />
        <rect
           id="rect39"
           width="64"
           height="48"
           x="0"
           y="0"
           fill="none"
           stroke="none" />
      </g>
    </symbol>
    <symbol
       id="xbar">
      <title
         id="title16">crossbar</title>
      <line
         x1="8"
         y1="7"
         x2="127"
         y2="7"
         stroke="#d579a0"
         id="line16"
         stroke-dasharray="2, 2" />
      <line
         x1="121.5"
         y1="1"
         x2="121.5"
         y2="56"
         stroke="#2db6e2"
         id="line17"
         stroke-dasharray="2, 2" />
      <line
         x1="57.5"
         y1="1"
         x2="57.5"
         y2="56"
         stroke="#2db6e2"
         id="line18"
         stroke-dasharray="2, 2" />
      <g
         id="g1"
         color="currentColor">
        <use
           xlink:href="#memristor"
           x="0"
           y="0"
           id="1_1"
           transform="rotate(45,9.7071045,23.192389)" />
        <use
           xlink:href="#memristor"
           x="0"
           y="0"
           id="1_2"
           transform="rotate(45,41.707103,100.44721)" />
        <rect
           id="rect1"
           width="120"
           height="56"
           x="7.5"
           y="0.5"
           stroke="currentColor"
           fill="none" />
        <line
           x1="1"
           y1="28.5"
           x2="8"
           y2="28.5"
           stroke="currentColor"
           id="line19" />
        <line
           x1="64"
           y1="56"
           x2="64"
           y2="63"
           stroke="currentColor"
           id="line20" />
        <circle
           fill="#000000"
           stroke="none"
           id="circle20"
           cx="1"
           cy="28.5"
           r="1" />
        <circle
           fill="#000000"
           stroke="none"
           id="circle1"
           cx="64"
           cy="63"
           r="1" />
      </g>
    </symbol>
    <symbol
       id="memcell">
      <title
         id="title2">memcell</title>
      <g
         id="g2">
        <line
           x1="2"
           x2="10"
           y1="16"
           y2="16"
           stroke="currentColor"
           id="neg" />
        <line
           x1="54"
           x2="62"
           y1="16"
           y2="16"
           stroke="currentColor"
           id="out" />
        <rect
           id="outline"
           width="64"
           height="32"
           x="0"
           y="0"
           fill="none"
           stroke="none" />
        <rect
           id="main"
           width="44"
           height="24"
           x="10"
           y="4"
           fill="none"
           stroke="currentColor" />
        <g
           id="cap">
          <line
             x1="20"
             x2="30"
             y1="14"
             y2="14"
             stroke="currentColor"
             id="line2" />
          <line
             x1="34"
             x2="44"
             y1="14"
             y2="14"
             stroke="currentColor"
             id="line3" />
          <line
             x1="34"
             x2="34"
             y1="20"
             y2="8"
             stroke="currentColor"
             id="line4" />
          <line
             x1="30"
             x2="30"
             y1="8"
             y2="20"
             stroke="currentColor"
             id="line5" />
        </g>
        <line
           x1="32"
           x2="32"
           y1="4"
           y2="1"
           stroke="currentColor"
           id="line1" />
        <line
           x1="32"
           x2="32"
           y1="28"
           y2="31"
           stroke="currentColor"
           id="line6" />
        <circle
           id="negPin"
           class="pin"
           cx="2"
           cy="16"
           r="1" />
        <circle
           id="enIn"
           class="pin"
           cx="32"
           cy="1"
           r="1" />
        <circle
           id="enOut"
           class="pin"
           cx="32"
           cy="31"
           r="1" />
        <circle
           id="outPin"
           class="pin"
           cx="62"
           cy="16"
           r="1" />
      </g>
      <text
         x="32"
         y="26"
         id="memText"
         stroke="none"
         fill="#000000"
         font-size="6px"
         text-anchor="middle">Memory</text>
    </symbol>
    <symbol
       id="sigm">
      <title
         id="title12">sigmoid</title>
      <g
         id="g16">
        <line
           x1="2"
           x2="10"
           y1="12"
           y2="12"
           stroke="currentColor"
           id="line12" />
        <line
           x1="54"
           x2="62"
           y1="12"
           y2="12"
           stroke="currentColor"
           id="line13" />
        <circle
           id="circle13"
           class="pin"
           cx="2"
           cy="12"
           r="1" />
        <circle
           id="circle14"
           class="pin"
           cx="62"
           cy="12"
           r="1" />
        <rect
           id="rect14"
           width="64"
           height="24"
           x="0"
           y="0"
           fill="none"
           stroke="none" />
        <rect
           id="rect15"
           width="44"
           height="23"
           x="10"
           y="0.5"
           fill="none"
           stroke="currentColor" />
        <path
           d="m 16,13 c 8,0 12,0 16,-4 4,-4 8,-4 16,-4"
           id="path15-3"
           fill="none"
           stroke="currentColor" />
        <rect
           id="rect16"
           width="32"
           height="10"
           x="16"
           y="4"
           fill="none"
           stroke="#000000" />
      </g>
      <text
         x="32"
         y="21"
         id="text16"
         stroke="none"
         fill="#000000"
         font-size="6px"
         text-anchor="middle">sigmoid</text>
    </symbol>
    <symbol
       id="tanh">
      <title
         id="title9">tanh</title>
      <g
         id="g12">
        <line
           x1="2"
           x2="10"
           y1="12"
           y2="12"
           stroke="currentColor"
           id="line9" />
        <line
           x1="54"
           x2="62"
           y1="12"
           y2="12"
           stroke="currentColor"
           id="line10" />
        <circle
           id="circle10"
           class="pin"
           cx="2"
           cy="12"
           r="1" />
        <circle
           id="circle11"
           class="pin"
           cx="62"
           cy="12"
           r="1" />
        <rect
           id="rect11"
           width="64"
           height="24"
           x="0"
           y="0"
           fill="none"
           stroke="none" />
        <rect
           id="rect12"
           width="44"
           height="23"
           x="10"
           y="0.5"
           fill="none"
           stroke="currentColor" />
        <text
           x="32"
           y="21"
           id="tanhText"
           stroke="none"
           fill="#000000"
           font-size="6px"
           text-anchor="middle">\ac{tanh}</text>
        <path
           d="M 16,9 H 48"
           id="path12-3"
           fill="none"
           stroke="#808080"
           stroke-width="0.5" />
        <path
           d="m 16,13 c 8,0 12,0 16,-4 4,-4 8,-4 16,-4"
           id="path2"
           fill="none"
           stroke="currentColor" />
        <rect
           id="rect2"
           width="32"
           height="10"
           x="16"
           y="4"
           fill="none"
           stroke="#000000" />
      </g>
    </symbol>
  </defs>
  <g
     id="wires"
     color="#808080">
    <path
       d="M 21,38.5 H 13"
       id="path17"
       fill="none"
       stroke="currentColor" />
    <path
       d="m 212.99966,38.5 h -8"
       id="path30"
       fill="none"
       stroke="currentColor" />
    <path
       d="m 350,180 h 32"
       id="path31"
       fill="none"
       stroke="currentColor" />
    <path
       d="M 84,73 V 93 H 99"
       id="path4"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <path
       d="m 276,73 v 20 h 15"
       id="path19"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <path
       d="m 352,93 h 12 v 12"
       id="path20"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <path
       d="m 160,93 h 96 v 24 h 91 v 16 h -12"
       id="path8"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <path
       d="m 370,168 v 4 a 8,8 0 0 0 8,8 h 16"
       id="path10"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <path
       d="m 376,93 v 12"
       id="path11"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <path
       d="M 435,308 H 411"
       id="path23"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <path
       d="m 272,228 v 12"
       id="path12"
       fill="none"
       stroke="currentColor" />
    <path
       d="M 254,240 V 209"
       id="path25"
       fill="none"
       stroke="currentColor" />
    <path
       d="m 194,208 v 40"
       id="path26"
       fill="none"
       stroke="currentColor" />
    <path
       d="M 194,248 H 163"
       id="path28"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <path
       d="m 194,248 v 64 h 15"
       id="path29"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <path
       d="M 270,256 H 254"
       id="path27"
       fill="none"
       stroke="currentColor" />
    <path
       d="M 22,248 H 14"
       id="path6"
       fill="none"
       stroke="currentColor" />
    <path
       d="m 240,297 v -4"
       id="path35"
       fill="none"
       stroke="currentColor" />
    <path
       d="m 240,327 v 4"
       id="path37"
       fill="none"
       stroke="currentColor" />
    <path
       d="m 132,263 v 4"
       id="path79"
       fill="none"
       stroke="currentColor" />
    <path
       d="m 132,233 v -4"
       id="path80"
       fill="none"
       stroke="currentColor" />
    <path
       d="m 52,263 v 4"
       id="path38"
       fill="none"
       stroke="currentColor" />
    <path
       d="m 52,233 v -4"
       id="path39"
       fill="none"
       stroke="currentColor" />
    <path
       d="m 270,312 h 8"
       id="path70"
       fill="none"
       stroke="currentColor" />
    <path
       d="m 82,248 h 20"
       id="path85"
       fill="none"
       stroke="currentColor" />
    <path
       d="m 534,234 v 24 H 326 v -96 h 21 v -17 h -12"
       id="path7"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)"
       sodipodi:nodetypes="cc" />
    <path
       d="M 458,214.5 V 234 h 15"
       id="path9"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <path
       d="M 364,93 V 69 h 24"
       id="path13"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <path
       d="m 449,69 h 13 V 37"
       id="path14"
       fill="none"
       stroke="currentColor" />
    <path
       d="m 522,37 v 40 h 24 v 225 h -48"
       id="path15"
       fill="none"
       stroke="currentColor"
       marker-end="url(#arrow)" />
    <path
       d="M 462,85 H 450"
       id="path16"
       fill="none"
       stroke="currentColor" />
    <path
       d="m 272,139 v 28"
       id="path21"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <path
       d="M 350,308 H 318 V 240 H 255"
       id="path22"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
    <circle
       fill="currentColor"
       stroke="none"
       id="circle11-5"
       cx="272"
       cy="240"
       r="2" />
    <path
       d="M 510,314 H 498"
       id="path24"
       fill="none"
       stroke="currentColor"
       marker-end="url(#ArrowWide)" />
  </g>
  <g
     id="components"
     color="#009970">
    <use
       xlink:href="#xbar"
       id="outputG"
       x="20"
       y="10" />
    <use
       xlink:href="#xbar"
       id="inputG"
       x="212"
       y="10" />
    <use
       xlink:href="#xbar"
       id="cellG"
       x="394"
       y="151.5" />
    <use
       xlink:href="#sigm"
       id="sigm0"
       x="98"
       y="81" />
    <use
       xlink:href="#tanh"
       id="tanh0"
       x="472"
       y="222" />
    <use
       xlink:href="#sigm"
       id="sigm1"
       x="290"
       y="81" />
    <use
       xlink:href="#voltMult"
       id="voltMult0"
       transform="rotate(90,140.5,245.5)" />
    <use
       xlink:href="#voltMult"
       id="voltMult2"
       transform="matrix(-1,0,0,1,335,123)" />
    <use
       xlink:href="#opamp"
       id="opAmp1"
       x="-256"
       y="224"
       transform="scale(-1,1)" />
    <use
       xlink:href="#resistor"
       id="res4"
       x="192"
       y="200" />
    <use
       xlink:href="#resistor"
       id="res3"
       transform="rotate(90,57,223)" />
    <use
       xlink:href="#memcell"
       id="memcell1"
       x="20"
       y="232" />
    <use
       xlink:href="#memcell"
       id="memcell6"
       x="100"
       y="232" />
    <use
       xlink:href="#memcell"
       id="memcell2"
       x="208"
       y="296" />
    <use
       xlink:href="#resistor"
       id="use7"
       transform="translate(387,61)" />
    <use
       xlink:href="#opamp"
       id="use8"
       transform="translate(460,53)" />
    <use
       xlink:href="#resistor"
       id="use9"
       transform="translate(460,29)" />
    <use
       xlink:href="#voltMult"
       id="use17"
       transform="matrix(-1,0,0,1,498,292)" />
    <use
       xlink:href="#resistor"
       id="use18"
       transform="translate(348,300)" />
  </g>
  <g
     id="texts">
    <text
       x="13"
       y="40"
       id="text1"
       text-anchor="end"
       font-size="1px"
       xml:space="default">$\overrightarrow{z_t}$</text>
    <text
       x="205"
       y="40"
       id="text2"
       text-anchor="end"
       font-size="6px"
       xml:space="default">$\overrightarrow{z_t}$</text>
    <text
       x="350"
       y="180"
       id="text3"
       text-anchor="end"
       font-size="6px"
       xml:space="default">$\overrightarrow{x_t}$</text>
    <text
       x="14"
       y="250"
       id="text5"
       text-anchor="end"
       font-size="1px"
       xml:space="default">$\overrightarrow{h_{t}}$</text>
    <text
       x="270"
       y="258"
       id="text6"
       text-anchor="begin"
       font-size="6px"
       xml:space="default">$V_{cm}$</text>
    <text
       x="132"
       y="224"
       id="text82"
       text-anchor="middle"
       font-size="6px"
       xml:space="default">$e_{in}$</text>
    <text
       x="132"
       y="272"
       id="text83"
       text-anchor="middle"
       font-size="6px"
       xml:space="default">$e_{next}$</text>
    <text
       x="52"
       y="224"
       id="text40"
       text-anchor="middle"
       font-size="6px"
       xml:space="default">$e_{next}$</text>
    <text
       x="52"
       y="272"
       id="text41"
       text-anchor="middle"
       font-size="6px"
       xml:space="default">$e_{in}$</text>
    <text
       x="240"
       y="288"
       id="text42"
       text-anchor="middle"
       font-size="6px"
       xml:space="default">$e_{in,end}$</text>
    <text
       x="240"
       y="336"
       id="text43"
       text-anchor="middle"
       font-size="6px"
       xml:space="default">$e_{out}$</text>
    <text
       x="280"
       y="314"
       id="text71"
       text-anchor="begin"
       font-size="6px"
       xml:space="default">$\overrightarrow{h_{t}}$</text>
    <text
       x="376"
       y="92"
       id="text73"
       text-anchor="middle"
       font-size="6px"
       xml:space="default">$\overrightarrow{h_{t-1}}$</text>
    <text
       x="224"
       y="196"
       id="text76"
       text-anchor="middle"
       font-size="6px"
       xml:space="default">$R_{amp1}$</text>
    <text
       x="280"
       y="199"
       id="text77"
       text-anchor="begin"
       font-size="6px"
       xml:space="default">$R_{amp0}$</text>
    <text
       x="450"
       y="86"
       id="text17"
       text-anchor="end"
       font-size="6px"
       xml:space="default">$V_{inv}$</text>
    <text
       x="510"
       y="315"
       id="text24"
       text-anchor="negin"
       font-size="3">$\overrightarrow{h_{t-1}}$</text>
    <text
       x="380"
       y="296"
       id="text25"
       text-anchor="middle"
       font-size="6px"
       xml:space="default">$R_{amp0}$</text>
    <text
       x="419"
       y="57"
       id="text26"
       text-anchor="middle"
       font-size="6px"
       xml:space="default">$R_{amp1}$</text>
    <text
       x="492"
       y="25"
       id="text27"
       text-anchor="middle"
       font-size="6px"
       xml:space="default">$R_{amp1}$</text>
  </g>
</svg>
